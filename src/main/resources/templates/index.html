<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omninet Security - OAuth2 Demo</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .login-section { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .oauth-button { display: inline-block; padding: 10px 20px; margin: 10px; text-decoration: none; border-radius: 5px; color: white; }
        .github { background-color: #333; }
        .google { background-color: #4285f4; }
        .user-info { background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .api-section { background: #f0f8ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>Omninet Security - OAuth2 Backend</h1>

    <div th:if="${name}" class="user-info">
        <h2>Welcome, <span th:text="${name}">User</span>!</h2>
        <p><strong>Email:</strong> <span th:text="${email}">N/A</span></p>
        <p><strong>Login:</strong> <span th:text="${login}">N/A</span></p>
        <div style="margin-top: 15px;">
            <a href="/dashboard" style="background: #4CAF50; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-right: 10px;">View Dashboard</a>
            <a href="/logout">Logout</a>
        </div>
    </div>

    <div th:unless="${name}" class="login-section">
        <h2>Login with OAuth2</h2>
        <p>Choose your preferred authentication provider:</p>
        <a href="/oauth2/authorization/github" class="oauth-button github">Login with GitHub</a>
        <a href="/oauth2/authorization/google" class="oauth-button google">Login with Google</a>
    </div>

    <div class="api-section">
        <h2>API Endpoints</h2>
        <p>This backend provides OAuth2 authentication and user management endpoints:</p>

        <h3>Authentication APIs:</h3>
        <ul>
            <li><code>GET /api/auth/user</code> - Get current authenticated user</li>
            <li><code>GET /api/auth/status</code> - Get authentication status</li>
            <li><code>GET /api/auth/profile</code> - Get detailed user profile with OAuth2 attributes</li>
            <li><code>POST /api/auth/logout</code> - Logout current user</li>
        </ul>

        <h3>Dashboard APIs:</h3>
        <ul>
            <li><code>GET /dashboard</code> - User dashboard with detailed OAuth2 information</li>
            <li><code>GET /api/dashboard/users</code> - Get all registered users</li>
            <li><code>GET /api/dashboard/stats</code> - Get user statistics by provider</li>
        </ul>

        <p><strong>Note:</strong> This OAuth2 system can be easily integrated into other projects for secure authentication.</p>
    </div>
</body>
</html>
